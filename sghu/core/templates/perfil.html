{% extends 'base.html' %}
{% load static %}
{% block title %} Welcome {% endblock %}

{% block content %}

      <br>
      <h1 class="d-flex justify-content-center mb-6 text-3xl">Bienvenido a tu perfil de usuario, {{request.user.username}}</h1>
      <form method="post" class="justify-content-center align-items-center" action="">
        {% csrf_token %}

        
         <br>
         
          <div class="container">
            <!-- ... -->
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                <h5><strong>Información Primaria<button type="button" class="btn mx-2 ">
                  <a class="text-white text-decoration-none" onclick="window.location.href='{% url 'core:modificarPerfil' %}'"><img src="{% static 'medias/modificar.png'%}" alt="" style="width: 40px;"></a>
                </button></strong></h5>
              </div>
          </div>
            <!-- ... -->
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                    <strong>Username:&nbsp</strong>{{request.user.username}}
                </div>
            </div>
            <!-- ... -->
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                  <strong>Nombre:&nbsp</strong>{{request.user.first_name}}
              </div>
          </div>
            <!-- ... -->
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                  <strong>Apellidos:&nbsp</strong>{{request.user.last_name}}
              </div>
          </div>
            <!-- ... -->
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                    <strong>Fecha de registro:&nbsp</strong>{{request.user.date_joined}}
                </div>
            </div>
            <!-- ... -->
            <br>
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                  <h5><strong>Ficha personal <button type="button" class="btn mx-2">
                    <a class="text-white text-decoration-none" onclick="window.location.href='{% url 'ModPerfil' %}'"><img src="{% static 'medias/modificar.png'%}" alt="" style="width: 40px;"></a>
                  </button></strong></h5>
              </div>
          </div>
          
            <!-- ... -->
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                    <strong>Dirección:&nbsp</strong>{{perfil.adress}}
                </div>
            </div>
            <!-- ... -->
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                  <strong>Carnet de identificación:&nbsp</strong>{{perfil.ci}}
              </div>
          </div>
            <!-- ... -->
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                  <strong>Número de teléfono:&nbsp</strong>{{perfil.phone}}
              </div>
          </div>
            <!-- ... -->
            <div class="row justify-content-center">
                <div class="col-12 col-md-8 h-70 bg-light border-bottom text-right">
                    <strong>Biografía:&nbsp</strong>
                    <textarea class="form-control" rows="4" readonly>{{perfil.bio}}</textarea>
                </div>
            </div>
        </div>
        
      
      



        <br>
        <div class="d-flex justify-content-center bg-transparent border-0" style="padding-left: 500px;">
          
          
          <button type="button" class="btn mx-2 " data-bs-toggle="modal" data-bs-target="#confirmar">
            <a class="text-white text-decoration-none" ><img src="{% static 'medias/eliminar.png'%}" alt="" style="width: 50px;"></a>
          </button>
          
        </div>
      </form>
    </div>
  
<!--  Modal de confirmacion de eliminar usuario actual    -->
<div class="modal fade" id="confirmar" tabindex="-1" role="dialog" aria-labelledby="perfil" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="perfil">¿Está seguro que quiere eliminar su perfil?</h4>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class=" justify-content-center modal-footer">
        <button type="submit" class="btn btn-danger" data-bs-dismiss="modal" onclick="window.location.href='{% url 'core:eliminar_usuario' %}'" href="../eliminar_usuario">Confirmar</button>
        <button type="submit" id="eliminar_user" class=" btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>

<!--  Modal de modificacion del usuario actual    -->
<div class="modal fade" id="modificar" tabindex="-1" role="dialog" aria-labelledby="perfil" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="perfil">Modifique los campos {{request.user.username}}</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="col-4 mb-3">
          <label for="visualizarReservacion" class="form-label fs-3 fw-bold">Email:</label>
          <label for="visualizarReservacion" class="form-label fs-3">{{request.user.email}}</label>
        </div>
        <div class="col-5 mb-3">
          <label for="visualizarReservacion" class="form-label fs-3 fw-bold">Usuario:</label>
          <label for="visualizarReservacion" class="form-label fs-3">{{request.user.username}}</label>
        </div>
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="window.location.href='../modificarPerfil'">Confirmar</button>
        <button type="submit" id="eliminar_user" class=" btn btn-success" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}